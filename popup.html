<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Crop & Convert to WEBP</title>
  <link rel="stylesheet" href="popup.css">
  <!-- Include Cropper.js local files -->
  <link rel="stylesheet" href="lib/cropper.min.css">
</head>

<body>
  <!-- Main container -->
  <div class="container">
    <h1>‚úÇÔ∏è Crop & Convert üì∏</h1>

    <!-- Image upload area - handles drag and drop or file input selection -->
    <div id="drop-area">
      <p>Arrastra y suelta tus imagen(es) aqu√≠ o</p>
      <input type="file" id="fileInput" accept="image/jpeg,image/png" multiple>
    </div>

    <!-- Processing options - crop and convert checkboxes -->
    <div class="options">
      <!-- Crop options with aspect ratio selection -->
      <div class="first-opt">
        <label>
          <input type="checkbox" id="cropOption">
          Recortar imagen (1:1 o 16:9)
        </label>
        <select id="aspectRatio">
          <option value="1">1:1</option>
          <option value="1.7777777778">16:9</option>
        </select>
      </div>
      <br>
      <!-- Convert to WEBP option (checked by default) -->
      <label>
        <input type="checkbox" id="convertOption" checked>
        Convertir a WEBP
      </label>
    </div>

    <!-- Process button controls -->
    <div class="controls">
      <button id="processButton">Procesar</button>
    </div>

    <!-- Progress bar (hidden by default) -->
    <div id="progressContainer" style="display: none;">
      <p>Progreso: <span id="progressText">0%</span></p>
      <progress id="progressBar" value="0" max="100"></progress>
    </div>

    <!-- Results container for download links -->
    <div id="resultsContainer"></div>

    <!-- Image preview container (only visible for single files with crop enabled) -->
    <div class="image-container" id="imageContainer">
      <img id="image" style="max-width:100%;" alt="Imagen a recortar">
    </div>
  </div>

  <!-- JavaScript dependencies -->
  <script src="lib/cropper.min.js"></script>
  <script src="popup.js"></script>
</body>

</html>